<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Haushalt App – Mockup</title>
    <style>
        :root{
            --bg: #0f172a;         /* slate-900 */
            --card: #111827;       /* gray-900 */
            --card-2: #0b1220;     /* darker */
            --muted: #94a3b8;      /* slate-400 */
            --text: #e5e7eb;       /* gray-200 */
            --accent: #22d3ee;     /* cyan-400 */
            --accent-2: #a78bfa;   /* violet-400 */
            --green: #34d399;      /* emerald-400 */
            --red: #f87171;        /* red-400 */
            --yellow: #fbbf24;     /* amber-400 */
            --radius: 18px;
        }
        *{box-sizing:border-box}
        html,body{height:100%}
        body{
            margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
            background: radial-gradient(1200px 500px at 20% -10%, #1f2937 0%, var(--bg) 60%);
            color: var(--text);
        }
        header{
            display:flex; align-items:center; justify-content:space-between;
            padding:14px 18px; border-bottom:1px solid #1f2937; position:sticky; top:0; backdrop-filter: blur(6px);
            background: linear-gradient(180deg, rgba(15,23,42,.9), rgba(15,23,42,.5));
            z-index:10;
        }
        .brand{display:flex; gap:10px; align-items:center; font-weight:700}
        .brand .dot{width:10px; height:10px; background:var(--accent); border-radius:999px; box-shadow:0 0 20px var(--accent)}
        nav{display:flex; gap:8px; flex-wrap:wrap}
        nav button{background:#111827; color:var(--text); border:1px solid #243041; padding:8px 12px; border-radius:12px; cursor:pointer}
        nav button.active{border-color:var(--accent); box-shadow:0 0 0 2px rgba(34,211,238,.25)}

        main{max-width:1200px; margin:18px auto; padding:0 18px}
        .grid{display:grid; grid-template-columns:repeat(12, minmax(0,1fr)); gap:16px}

        .card{background:linear-gradient(180deg, #0f172a, #0b1220); border:1px solid #1f2937; border-radius:var(--radius); padding:16px; box-shadow:0 10px 30px rgba(0,0,0,.35)}
        .card h2{margin:.2rem 0 1rem 0; font-size:1.1rem; color:#cbd5e1}
        .muted{color:var(--muted)}
        .row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
        .input, select, textarea{
            width:100%; background:#0b1220; color:var(--text); border:1px solid #273248; padding:10px 12px; border-radius:12px; outline:none
        }
        .btn{appearance:none; border:0; padding:10px 14px; border-radius:12px; cursor:pointer; color:#0b1220; background:linear-gradient(135deg, var(--accent), var(--accent-2)); font-weight:700}
        .btn.secondary{background:#0b1220; color:var(--text); border:1px solid #273248; font-weight:600}
        .pill{display:inline-flex; align-items:center; gap:8px; border:1px solid #273248; padding:8px 10px; border-radius:999px}
        .list{display:flex; flex-direction:column; gap:10px}

        /* Wizard */
        .wizard .add-tile{border:2px dashed #334155; border-radius:16px; display:flex; align-items:center; justify-content:center; height:120px; cursor:pointer; transition: all .2s}
        .wizard .add-tile:hover{border-color:var(--accent); box-shadow:0 0 0 4px rgba(34,211,238,.12)}

        /* Dashboard */
        .kpi{display:grid; grid-template-columns:repeat(3,1fr); gap:12px}
        .kpi .item{background:#0b1220; border:1px solid #273248; border-radius:16px; padding:12px}

        /* Swipe */
        .swipe-area{position:relative; height:420px}
        .card-swipe{
            position:absolute; inset:0; margin:auto; height:100%; width:min(520px, 100%);
            background:linear-gradient(180deg, #0f172a, #10192e); border:1px solid #273248; border-radius:24px; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:24px;
            user-select:none; touch-action:none; box-shadow:0 15px 50px rgba(0,0,0,.45)
        }
        .swipe-area .actions{position:absolute; inset:auto 0 0 0; display:flex; justify-content:space-between; padding:14px}
        .circle{width:160px; height:160px; border-radius:999px; border:2px dashed #334155; display:grid; place-items:center}

        /* hidden pages */
        section[hidden]{display:none}
        small.hint{display:block; color:var(--muted); margin-top:6px}
    </style>
</head>
<body>
<header>
    <div class="brand"><span class="dot"></span> Haushalt App</div>
    <nav>
        <button data-goto="wizard" class="active">Wizard</button>
        <button data-goto="person">Person</button>
        <button data-goto="dashboard">Dashboard</button>
        <button data-goto="keine-lust">Keine Lust</button>
    </nav>
</header>

<main>
    <!-- WIZARD -->
    <section id="wizard" class="wizard">
        <div class="grid">
            <div class="card" style="grid-column: span 5;">
                <h2>Haushalt · Person hinzufügen</h2>
                <div class="add-tile" id="addPerson">
                    <div class="row" style="gap:12px">
                        <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="var(--accent)"><path d="M12 5v14M5 12h14" stroke-width="2" stroke-linecap="round"/></svg>
                        <div class="muted">Neue Person</div>
                    </div>
                </div>
                <small class="hint">Tippe auf „Neue Person“, um das Formular zu öffnen.</small>
            </div>

            <div class="card" style="grid-column: span 7;">
                <h2>Haushalt</h2>
                <div id="householdList" class="list muted">Noch keine Einträge.</div>
            </div>
        </div>
    </section>

    <!-- PERSON FORM -->
    <section id="person" hidden>
        <div class="grid">
            <form id="personForm" class="card" style="grid-column: span 7;">
                <h2>Person</h2>
                <label> Name
                    <input class="input" name="name" placeholder="z. B. Marco" required />
                </label>

                <div style="height:12px"></div>
                <h3 class="muted" style="margin:0 0 8px 0">Ernährungsformen</h3>
                <div class="row">
                    <label class="pill"><input type="checkbox" name="diet" value="Vegi"> Vegi</label>
                    <label class="pill"><input type="checkbox" name="diet" value="Vegan"> Vegan</label>
                    <label class="pill"><input type="checkbox" name="diet" value="Laktosefrei"> Laktosefrei</label>
                    <label class="pill"><input type="checkbox" name="diet" value="Glutenfrei"> Glutenfrei</label>
                </div>

                <div style="height:12px"></div>
                <label> Allergien
                    <textarea class="input" name="allergies" rows="3" placeholder="z. B. Nüsse, Sellerie …"></textarea>
                </label>

                <div style="height:12px"></div>
                <label> Gewohnheiten
                    <textarea class="input" name="habits" rows="3" placeholder="z. B. mag scharf, kein Fisch …"></textarea>
                </label>

                <div style="height:14px"></div>
                <div class="row">
                    <button class="btn" type="submit">Speichern</button>
                    <button class="btn secondary" type="button" data-goto="wizard">Abbrechen</button>
                </div>
            </form>

            <div class="card" style="grid-column: span 5;">
                <h2>Vorschau</h2>
                <div id="preview" class="muted">Gib Daten ein …</div>
            </div>
        </div>
    </section>

    <!-- DASHBOARD -->
    <section id="dashboard" hidden>
        <div class="grid">
            <div class="card" style="grid-column: span 5;">
                <h2 id="hello">Hallo Marco</h2>
                <div class="kpi">
                    <div class="item">
                        <div class="muted">Personen</div>
                        <div id="kpiPersons" style="font-size:1.6rem; font-weight:800">0</div>
                    </div>
                    <div class="item">
                        <div class="muted">Allergien</div>
                        <div id="kpiAllergies" style="font-size:1.6rem; font-weight:800">0</div>
                    </div>
                    <div class="item">
                        <div class="muted">Vegan/Vegi</div>
                        <div id="kpiVeg" style="font-size:1.6rem; font-weight:800">0</div>
                    </div>
                </div>
                <small class="hint">Kleine KPIs als Platzhalter fürs spätere Diagramm.</small>
            </div>

            <div class="card" style="grid-column: span 7;">
                <h2>Haushalt</h2>
                <div id="dashboardList" class="list muted">Noch keine Einträge.</div>
            </div>
        </div>
    </section>

    <!-- KEINE LUST / SWIPE -->
    <section id="keine-lust" hidden>
        <div class="card">
            <h2>Keine Lust – Swipe</h2>
            <div class="swipe-area">
                <div id="swipeCard" class="card-swipe" aria-live="polite">
                    <div class="circle">Bild</div>
                    <div class="muted" id="swipeText">Vorschlag 1: Pizza</div>
                </div>
                <div class="actions">
                    <button class="btn secondary" id="btnLeft">⟵</button>
                    <button class="btn" id="btnRight">⟶</button>
                </div>
            </div>
            <small class="hint">Klicke Pfeile oder ziehe die Karte nach links/rechts.</small>
        </div>
    </section>
</main>

<script>
    // Simple state
    const state = {
        persons: [],
        swipeIndex: 0,
        swipeData: [
            {title: 'Vorschlag 1: Pizza'},
            {title: 'Vorschlag 2: Pasta'},
            {title: 'Vorschlag 3: Curry'},
            {title: 'Vorschlag 4: Salat'}
        ]
    };

    // Navigation
    const pages = Array.from(document.querySelectorAll('main > section'));
    const navButtons = Array.from(document.querySelectorAll('nav button'));
    function show(id){
        pages.forEach(s => s.hidden = s.id !== id);
        navButtons.forEach(b => b.classList.toggle('active', b.dataset.goto === id));
        window.scrollTo({top:0, behavior:'smooth'});
    }
    document.addEventListener('click', (e)=>{
        const btn = e.target.closest('[data-goto]');
        if(btn){ show(btn.dataset.goto); }
    });

    // Wizard: add person → open form
    document.getElementById('addPerson').addEventListener('click', ()=> show('person'));

    // Live preview for form
    const form = document.getElementById('personForm');
    const preview = document.getElementById('preview');
    form.addEventListener('input', ()=>{
        const data = new FormData(form);
        const name = data.get('name') || '—';
        const diets = data.getAll('diet');
        const allergies = (data.get('allergies')||'').trim();
        const habits = (data.get('habits')||'').trim();
        preview.innerHTML = `<div class="list">
        <div><strong>Name:</strong> ${name}</div>
        <div><strong>Ernährung:</strong> ${diets.join(', ') || '—'}</div>
        <div><strong>Allergien:</strong> ${allergies || '—'}</div>
        <div><strong>Gewohnheiten:</strong> ${habits || '—'}</div>
      </div>`;
    });

    // Save person
    form.addEventListener('submit', (e)=>{
        e.preventDefault();
        const data = new FormData(form);
        const person = {
            name: data.get('name').trim() || 'Unbenannt',
            diets: data.getAll('diet'),
            allergies: (data.get('allergies')||'').trim(),
            habits: (data.get('habits')||'').trim()
        };
        state.persons.push(person);
        form.reset(); preview.textContent = 'Gib Daten ein …';
        renderHousehold();
        renderDashboard();
        show('dashboard');
    });

    function renderHousehold(){
        const list = document.getElementById('householdList');
        if(state.persons.length===0){ list.textContent = 'Noch keine Einträge.'; return; }
        list.innerHTML = '';
        state.persons.forEach((p, i)=>{
            const row = document.createElement('div');
            row.className = 'row';
            row.style.justifyContent = 'space-between';
            row.innerHTML = `<div><strong>${p.name}</strong> <span class="muted">· ${p.diets.join(', ')||'—'}</span></div>
                         <button class="btn secondary" data-remove="${i}">Entfernen</button>`;
            list.appendChild(row);
        });
        list.addEventListener('click', (e)=>{
            const btn = e.target.closest('[data-remove]');
            if(!btn) return;
            const idx = +btn.dataset.remove;
            state.persons.splice(idx,1);
            renderHousehold();
            renderDashboard();
        }, {once:true});
    }

    function renderDashboard(){
        const dList = document.getElementById('dashboardList');
        if(state.persons.length===0){ dList.textContent = 'Noch keine Einträge.'; }
        else{
            dList.innerHTML = state.persons.map(p=> `<div class="row" style="justify-content:space-between">
          <div><strong>${p.name}</strong> <span class="muted">${p.diets.join(', ')||'—'}</span></div>
          <div class="muted">${[p.allergies, p.habits].filter(Boolean).join(' · ')}</div>
        </div>`).join('');
        }
        // KPIs
        document.getElementById('kpiPersons').textContent = state.persons.length;
        const allergyCount = state.persons.filter(p=> p.allergies).length;
        document.getElementById('kpiAllergies').textContent = allergyCount;
        const vegCount = state.persons.filter(p=> p.diets.some(d=>/Vegi|Vegan/i.test(d))).length;
        document.getElementById('kpiVeg').textContent = vegCount;
    }

    // Swipe mini prototype
    const swipeCard = document.getElementById('swipeCard');
    const swipeText = document.getElementById('swipeText');
    const btnLeft = document.getElementById('btnLeft');
    const btnRight = document.getElementById('btnRight');

    function setSwipe(i){
        const item = state.swipeData[(i+state.swipeData.length)%state.swipeData.length];
        swipeText.textContent = item.title;
    }
    setSwipe(state.swipeIndex);

    function advance(dir){
        state.swipeIndex = (state.swipeIndex + dir + state.swipeData.length) % state.swipeData.length;
        setSwipe(state.swipeIndex);
    }

    btnLeft.addEventListener('click', ()=> advance(-1));
    btnRight.addEventListener('click', ()=> advance(1));

    // Drag to swipe
    let startX = null;
    swipeCard.addEventListener('pointerdown', (e)=>{ startX = e.clientX; swipeCard.setPointerCapture(e.pointerId); });
    swipeCard.addEventListener('pointerup', (e)=>{
        if(startX===null) return; const dx = e.clientX - startX; startX=null;
        if(dx > 40) advance(1); else if(dx < -40) advance(-1);
    });

    // Boot
    renderHousehold();
    renderDashboard();
</script>
</body>
</html>
